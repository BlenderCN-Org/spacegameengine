MACRO(
	ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"include\\\\\\\\sge\\\\\\\\parse" #cmake bitch
		${CMAKE_SOURCE_DIR}/include/sge/parse
		"${SOURCEPATH}"
		*.hpp
		TEMPFILES
	)

	SET(SGEPARSEFILES ${SGEPARSEFILES} ${TEMPFILES})
ENDMACRO()

ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP("")
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(ini)
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(ini/detail)
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(ini/output)
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(json)
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(json/detail)
ADD_SGE_PARSE_INCLUDE_SOURCE_GROUP(json/output)

MACRO(
	ADD_SGE_PARSE_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"src\\\\\\\\parse"
		""
		"${SOURCEPATH}"
		*.?pp
		TEMPFILES	
	)

	SET(SGEPARSEFILES ${SGEPARSEFILES} ${TEMPFILES})
ENDMACRO()

ADD_SGE_PARSE_SOURCE_GROUP("")
ADD_SGE_PARSE_SOURCE_GROUP(output)
ADD_SGE_PARSE_SOURCE_GROUP(ini)
ADD_SGE_PARSE_SOURCE_GROUP(ini/output)
ADD_SGE_PARSE_SOURCE_GROUP(json)
ADD_SGE_PARSE_SOURCE_GROUP(json/output)

ADD_LIBRARY (sgeparse SHARED ${SGEPARSEFILES})

TARGET_LINK_LIBRARIES (
	sgeparse
	sgecore
)

INSTALL (TARGETS sgeparse DESTINATION lib)

INSTALL(DIRECTORY ${CMAKE_SOURCE_DIR}/include/sge/parse DESTINATION include/sge)
