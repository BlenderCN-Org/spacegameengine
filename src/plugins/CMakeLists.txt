REMOVE_DEFINITIONS(-D BOOST_ASIO_SEPARATE_COMPILATION)

SET (LIBRARY_OUTPUT_PATH ${SGE_PLUGIN_BUILD_PATH})

#IF(UNIX)
#	SET(CMAKE_SHARED_LINKER_FLAGS -Wl,--no-undefined)
#ENDIF()

FIND_PACKAGE(Bullet)
FIND_PACKAGE(DevIL)
FIND_PACKAGE(DInput)
FIND_PACKAGE(Freetype)
FIND_PACKAGE(GLEW)
FIND_PACKAGE(OpenGL)
FIND_PACKAGE(OpenAL)
FIND_PACKAGE(PNG 1.4.1)
FIND_PACKAGE(Vorbis)

OPTION (ENABLE_AUDIO_NULL "Build the null audio player plugin" OFF)
OPTION (ENABLE_BITMAP_FONT "Build the bitmap font plugin" OFF)
OPTION (ENABLE_MD3 "Build the md3 model loader plugin" ON)
OPTION (ENABLE_WAVE "Build the wave loader plugin" ON)

OPTION (ENABLE_BULLET "Build the bullet collision plugin" ${BULLET_FOUND})

OPTION (ENABLE_DINPUT "Build the direct input 8 plugin" ${DINPUT_FOUND})

OPTION (ENABLE_FREETYPE "Build the freetype font plugin" ${FREETYPE_FOUND})

OPTION (ENABLE_DEVIL "Build the devil image loader plugin" ${IL_FOUND})

OPTION (ENABLE_OPENAL "Build the openal audio plugin" ${OPENAL_FOUND})

IF(OPENGL_FOUND AND GLEW_FOUND)
	OPTION (ENABLE_OPENGL "Build the opengl render plugin" ON)
ELSE()
	OPTION (ENABLE_OPENGL "Build the opengl render plugin" OFF)
ENDIF()

OPTION (ENABLE_PNG "Build the libpng plugin" ${PNG_FOUND})

OPTION (ENABLE_VORBIS "Build the vorbis loader plugin" ${VORBIS_FOUND})

OPTION (ENABLE_X11INPUT "Build the x11 input plugin" ${X11_Xinput_FOUND})

IF(ENABLE_AUDIO_NULL)
	ADD_SUBDIRECTORY (audio_null)
ENDIF ()

IF(ENABLE_BITMAP_FONT)
	ADD_SUBDIRECTORY (bitmapfont)
ENDIF()

IF(ENABLE_BULLET)
	ADD_SUBDIRECTORY (bullet)
ENDIF ()

IF(ENABLE_D3D9)
	ADD_SUBDIRECTORY (d3d9)
ENDIF ()

IF (ENABLE_DEVIL)
	ADD_SUBDIRECTORY (devil)
ENDIF ()

IF (ENABLE_DINPUT)
	ADD_SUBDIRECTORY (dinput)
ENDIF ()

IF (ENABLE_FREETYPE)
	ADD_SUBDIRECTORY (freetype)
ENDIF ()

IF (ENABLE_MD3)
	ADD_SUBDIRECTORY (md3)
ENDIF ()

IF (ENABLE_OPENAL)
	ADD_SUBDIRECTORY (openal)
ENDIF ()

IF (ENABLE_OPENGL)
	ADD_SUBDIRECTORY (opengl)
ENDIF ()

IF (ENABLE_PNG)
	ADD_SUBDIRECTORY (libpng)
ENDIF ()

IF (ENABLE_VORBIS)
	ADD_SUBDIRECTORY (vorbis)
ENDIF ()

IF (ENABLE_WAVE)
	ADD_SUBDIRECTORY (wave)
ENDIF ()

IF (ENABLE_X11INPUT)
	ADD_SUBDIRECTORY (x11input)
ENDIF ()
