IF(NOT ENABLE_ICONV)
	MESSAGE(
		FATAL_ERROR
		"For sgefreetype to work you need to -D ENABLE_ICONV=ON"
	)
ENDIF()

MACRO(
	ADD_SGE_FREETYPE_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"src\\\\\\\\plugins\\\\\\\\freetype"
		""
		"${SOURCEPATH}"
		*.?pp
		TEMPFILES
	)

	SET(SGEFREETYPEFILES ${SGEFREETYPEFILES} ${TEMPFILES})
ENDMACRO()

ADD_SGE_FREETYPE_SOURCE_GROUP("")
ADD_SGE_FREETYPE_SOURCE_GROUP(src)

INCLUDE_DIRECTORIES(${FREETYPE_INCLUDE_DIRS})

ADD_LIBRARY (sgefreetype SHARED ${SGEFREETYPEFILES})

TARGET_LINK_LIBRARIES (
	sgefreetype
	sgecore
	sgeiconv
	${FCPPT_LIBRARIES}
	${FREETYPE_LIBRARIES}
)

INSTALL (TARGETS sgefreetype DESTINATION lib/sge)
