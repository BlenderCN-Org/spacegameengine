MACRO(
	ADD_SGE_X11INPUT_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"src\\\\\\\\plugins\\\\\\\\x11input"
		""
		"${SOURCEPATH}"
		*.?pp
		TEMPFILES
	)

	SET(SGEX11INPUTFILES ${SGEX11INPUTFILES} ${TEMPFILES})
ENDMACRO()

IF(NOT ENABLE_TIME)
	MESSAGE(
		FATAL_ERROR
		"For sgex11input to work you need to -D ENABLE_TIME=ON"
	)
ENDIF()

ADD_SGE_X11INPUT_SOURCE_GROUP("")
ADD_SGE_X11INPUT_SOURCE_GROUP(device)
ADD_SGE_X11INPUT_SOURCE_GROUP(device/src)
ADD_SGE_X11INPUT_SOURCE_GROUP(src)

INCLUDE_DIRECTORIES(${X11_Xinput_INCLUDE_PATH})

ADD_LIBRARY (sgex11input SHARED ${SGEX11INPUTFILES})

TARGET_LINK_LIBRARIES (
	sgex11input
	sgecore
	sgetime
	${X11_X11_LIB}
	${X11_Xinput_LIB}
)

INSTALL (TARGETS sgex11input DESTINATION lib/sge)
