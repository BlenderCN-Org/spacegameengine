REMOVE_DEFINITIONS(-D BOOST_ASIO_SEPARATE_COMPILATION)

IF(NOT ENABLE_FONTTEXT)
	MESSAGE(
		FATAL_ERROR
		"For sgegui to work you need to -D ENABLE_FONTTEXT=ON"
	)
ENDIF()

IF(NOT ENABLE_TIME)
	MESSAGE(
		FATAL_ERROR
		"For sgegui to work you need to -D ENABLE_TIME=ON"
	)
ENDIF()

IF(NOT ENABLE_CONFIG)
	MESSAGE(
		FATAL_ERROR
		"For sgegui to work you need to -D ENABLE_CONFIG=ON"
	)
ENDIF()

MACRO(
	ADD_SGE_GUI_INCLUDE_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"include\\\\\\\\sge\\\\\\\\gui" #cmake bitch
		${CMAKE_SOURCE_DIR}/include/sge/gui
		"${SOURCEPATH}"
		*.hpp
		TEMPFILES
	)

	SET(SGEGUIFILES ${SGEGUIFILES} ${TEMPFILES})
ENDMACRO()

ADD_SGE_GUI_INCLUDE_SOURCE_GROUP("")
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(canvas)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(cursor)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(detail)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(detail/managers)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(events)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(layouts)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(skins)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(sprite)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(timer)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(widgets)
ADD_SGE_GUI_INCLUDE_SOURCE_GROUP(widgets/buttons)

MACRO(
	ADD_SGE_GUI_SOURCE_GROUP
	SOURCEPATH
)
	ADD_SGE_SOURCE_GROUP(
		"src\\\\\\\\gui"
		""
		"${SOURCEPATH}"
		*.?pp
		TEMPFILES	
	)

	SET(SGEGUIFILES ${SGEGUIFILES} ${TEMPFILES})
ENDMACRO()

ADD_SGE_GUI_SOURCE_GROUP("")
ADD_SGE_GUI_SOURCE_GROUP(canvas)
ADD_SGE_GUI_SOURCE_GROUP(canvas/utility)
ADD_SGE_GUI_SOURCE_GROUP(cursor)
ADD_SGE_GUI_SOURCE_GROUP(detail)
ADD_SGE_GUI_SOURCE_GROUP(detail/managers)
ADD_SGE_GUI_SOURCE_GROUP(events)
ADD_SGE_GUI_SOURCE_GROUP(layouts)
ADD_SGE_GUI_SOURCE_GROUP(skins)
ADD_SGE_GUI_SOURCE_GROUP(skins/standard)
ADD_SGE_GUI_SOURCE_GROUP(skins/standard/buttons)
ADD_SGE_GUI_SOURCE_GROUP(timer)
ADD_SGE_GUI_SOURCE_GROUP(utility)
ADD_SGE_GUI_SOURCE_GROUP(widgets)
ADD_SGE_GUI_SOURCE_GROUP(widgets/buttons)

ADD_LIBRARY (sgegui SHARED ${SGEGUIFILES})

TARGET_LINK_LIBRARIES (
	sgegui
	sgecore
	sgefonttext
	sgetime
	sgeconfig
)

INSTALL (TARGETS sgegui DESTINATION lib)

INSTALL(DIRECTORY ${CMAKE_SOURCE_DIR}/include/sge/gui DESTINATION include/sge)
